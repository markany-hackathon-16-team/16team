<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>마크애니 관리 시스템 - 대시보드</title>
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1><a href="/" style="text-decoration: none; color: inherit;">마크애니 관리 시스템</a></h1>
        
        <!-- 탭 메뉴 -->
        <div class="tab-menu">
            <a href="/" class="tab-item active">대시보드</a>
            <a href="/employees" class="tab-item">인력 관리</a>
            <a href="/projects" class="tab-item">프로젝트 관리</a>
        </div>
        
        <div class="content">
            <!-- 요약 카드 -->
            <div class="dashboard-cards">
                <div class="card">
                    <h3>전체 인력</h3>
                    <div class="card-number" th:text="${totalEmployees}">0</div>
                    <div class="card-label">명 (가용률 <span th:text="${availabilityRate} + '%'">0%</span>)</div>
                </div>
                <div class="card">
                    <h3>할당된 인력</h3>
                    <div class="card-number" th:text="${assignedEmployees}">0</div>
                    <div class="card-label">명</div>
                </div>
                <div class="card">
                    <h3>전체 프로젝트</h3>
                    <div class="card-number" th:text="${totalProjects}">0</div>
                    <div class="card-label">개</div>
                </div>
                <div class="card">
                    <h3>진행중 프로젝트</h3>
                    <div class="card-number" th:text="${activeProjects}">0</div>
                    <div class="card-label">개</div>
                </div>
            </div>
            
            <!-- 빠른 액션 -->
            <div class="quick-actions">
                <h2>빠른 액션</h2>
                <div class="action-buttons">
                    <a href="/employees/new" class="btn btn-primary">직원 등록</a>
                    <a href="/projects/new" class="btn btn-primary">프로젝트 등록</a>
                    <a href="/employees" class="btn btn-secondary">인력 현황</a>
                    <a href="/projects" class="btn btn-secondary">프로젝트 현황</a>
                </div>
            </div>
            
            <!-- 최근 프로젝트 -->
            <div class="recent-projects">
                <h2>최근 프로젝트</h2>
                <div class="project-cards">
                    <div th:each="project : ${recentProjects}" class="project-card clickable" th:data-project-id="${project.projectId}" style="cursor: pointer;">
                        <h4 th:text="${project.projectName}">프로젝트명</h4>
                        <div class="project-info">
                            <span class="status" th:text="${project.status}" th:class="'status-' + ${project.status}">상태</span>
                            <span th:text="${project.type}">유형</span>
                        </div>
                        <div class="project-dates">
                            <span th:text="'시작: ' + ${project.startDate}">시작일</span><br>
                            <span th:text="'종료: ' + ${project.endDate}">종룼일</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.project-card.clickable').forEach(function(card) {
                card.addEventListener('click', function() {
                    const projectId = this.getAttribute('data-project-id');
                    window.location.href = '/projects/' + projectId;
                });
            });
        });
    </script>
</body>
</html>
