<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>직원 정보</title>
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>마크애니 관리 시스템</h1>
        
        <!-- 탭 메뉴 -->
        <div class="tab-menu">
            <a href="/" class="tab-item">대시보드</a>
            <a href="/employees" class="tab-item active">인력 관리</a>
            <a href="/projects" class="tab-item">프로젝트 관리</a>
        </div>
        
        <div class="content">
            <h2 th:text="${employee.empId != null ? '직원 정보 수정' : '직원 등록'}"></h2>
            
            <form th:object="${employee}" th:action="${employee.empId != null ? '/employees/' + employee.empId : '/employees'}" method="post">
                <div class="form-group">
                    <label for="empId">직원 ID:</label>
                    <input type="text" id="empId" th:field="*{empId}" th:readonly="${employee.empId != null}" required>
                </div>
                
                <div class="form-group">
                    <label for="name">이름:</label>
                    <input type="text" id="name" th:field="*{name}" required>
                </div>
                
                <div class="form-group">
                    <label for="role">역할:</label>
                    <select id="role" th:field="*{role}" required onchange="updateSkillPlaceholder()">
                        <option value="">선택하세요</option>
                        <option value="개발자">개발자</option>
                        <option value="수행인력">수행인력</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="yearsExp">경력 (년):</label>
                    <input type="number" id="yearsExp" th:field="*{yearsExp}" min="0">
                </div>
                
                <div class="form-group">
                    <label for="level">레벨:</label>
                    <select id="level" th:field="*{level}">
                        <option value="">선택하세요</option>
                        <option value="신입">신입</option>
                        <option value="중급">중급</option>
                        <option value="시니어">시니어</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="available">가용성:</label>
                    <select id="available" th:field="*{available}">
                        <option value="가능">가능</option>
                        <option value="불가능">불가능</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="currentProject">현재 프로젝트:</label>
                    <input type="text" id="currentProject" th:field="*{currentProject}">
                </div>
                
                <div class="form-group">
                    <label for="availableDate">투입 가능일:</label>
                    <input type="date" id="availableDate" th:field="*{availableDate}">
                </div>
                
                <div class="form-group">
                    <label for="skills">스킬:</label>
                    <textarea id="skills" th:field="*{skills}" placeholder="역할을 선택하면 예시가 표시됩니다"></textarea>
                    <small id="skillExamples" class="skill-examples"></small>
                </div>
                
                <div class="form-group">
                    <label for="notes">비고:</label>
                    <textarea id="notes" th:field="*{notes}"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">저장</button>
                    <a href="/employees" class="btn btn-secondary">취소</a>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        function updateSkillPlaceholder() {
            const roleSelect = document.getElementById('role');
            const skillsTextarea = document.getElementById('skills');
            const skillExamples = document.getElementById('skillExamples');
            
            const role = roleSelect.value;
            
            if (role === '개발자') {
                skillsTextarea.placeholder = 'Java, Spring Boot, Python, JavaScript, React, Vue.js, MySQL, PostgreSQL 등';
                skillExamples.textContent = '예시: Java, Spring Boot, Python, JavaScript, React, Vue.js, MySQL, PostgreSQL';
            } else if (role === '수행인력') {
                skillsTextarea.placeholder = '문서보안JSON, 문서보안BLUE, 개인정보보안, 화면보안, 출력물보안 등';
                skillExamples.textContent = '예시: 문서보안JSON, 문서보안BLUE, 개인정보보안, 화면보안, 출력물보안';
            } else {
                skillsTextarea.placeholder = '역할을 선택하면 예시가 표시됩니다';
                skillExamples.textContent = '';
            }
        }
        
        // 페이지 로드 시 초기 설정
        document.addEventListener('DOMContentLoaded', function() {
            updateSkillPlaceholder();
        });
    </script>
</body>
</html>
